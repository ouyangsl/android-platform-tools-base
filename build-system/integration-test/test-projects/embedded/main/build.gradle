apply plugin: 'com.android.application'

android {
  namespace "com.android.tests.basic"
  compileSdkVersion libs.versions.latestCompileSdk.get().toInteger()
  buildToolsVersion = libs.versions.buildToolsVersion.get()

  defaultConfig {
    minSdkVersion libs.versions.supportLibMinSdk.get()
    testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
  }

  flavorDimensions 'foo'
  productFlavors {
     flavor1 {

     }
     flavor2 {

     }
  }

  buildTypes {
    create("custom").initWith(release)
    custom {
      applicationIdSuffix = '.custom'
    }
  }
}

configurations {
  create("flavor1ReleaseWearApp")
  create("flavor2ReleaseWearApp")
  create("flavor1CustomWearApp")
  create("flavor2CustomWearApp")
}

dependencies {
  flavor1ReleaseWearApp project(':micro-apps:flavor1')
  flavor2ReleaseWearApp project(':micro-apps:default')
  flavor1CustomWearApp project(':micro-apps:custom')
  flavor2CustomWearApp project(':micro-apps:custom')

  testImplementation 'junit:junit:4.12'
  androidTestImplementation "com.android.support.test:runner:${libs.versions.testSupportLibVersion.get()}"
  androidTestImplementation "com.android.support.test:rules:${libs.versions.testSupportLibVersion.get()}"
}

