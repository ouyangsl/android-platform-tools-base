apply plugin: 'com.android.application'

repositories {
    jcenter()
}

dependencies {
    compile project(':lib')

    // Adding dependency on an external library to test that proguard do not issue warnings for
    // unknown referenced symbol.
    androidTestCompile 'com.google.guava:guava:15.0'
}

android {
    compileSdkVersion 21
    buildToolsVersion = rootProject.ext.buildToolsVersion

    testBuildType rootProject.ext.useJack ? "debug" : "minified"

    defaultConfig {
        versionCode 12
        versionName "2.0"
        minSdkVersion 16
        targetSdkVersion 16
    }

    buildTypes {
        minified.initWith(buildTypes.debug)
        minified {
            minifyEnabled true
            useJack rootProject.ext.useJack
            proguardFile getDefaultProguardFile('proguard-android.txt')
        }
    }

    dexOptions {
        incremental false
    }
}
